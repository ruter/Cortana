# =============================================================================
# Cortana Discord Bot - Environment Configuration
# =============================================================================

# --- Core Services ---
DISCORD_TOKEN=your_discord_bot_token
SUPABASE_URL=your_supabase_url
SUPABASE_KEY=your_supabase_anon_key
ZEP_API_KEY=your_zep_api_key

# --- LLM Configuration (Legacy Single-Key Mode) ---
# These are used when rotator is disabled or as fallback
LLM_BASE_URL=https://api.openai.com/v1
LLM_API_KEY=your_llm_api_key
LLM_MODEL_NAME=gpt-4o

# --- API Key Rotator Configuration ---
# The rotator provides resilient, multi-key LLM access with automatic failover

# Enable/disable the rotating client (set to "false" to use legacy single-key mode)
ENABLE_ROTATOR=true

# Multi-provider API keys (add as many as needed)
# Pattern: <PROVIDER>_API_KEY or <PROVIDER>_API_KEY_<N>
# Examples:
OPENAI_API_KEY_1=sk-xxx...
OPENAI_API_KEY_2=sk-yyy...
# GEMINI_API_KEY_1=AIza...
# GEMINI_API_KEY_2=AIza...
# ANTHROPIC_API_KEY=sk-ant-...
# DEEPSEEK_API_KEY=sk-...
# QWEN_API_KEY=sk-...

# OAuth Credentials (for Gemini CLI, Qwen Code, iFlow, Antigravity)
# Pattern: <PROVIDER>_OAUTH_CREDENTIALS or <PROVIDER>_OAUTH_CREDENTIALS_<N>
# Examples:
# GEMINI_CLI_OAUTH_CREDENTIALS=/path/to/gemini_oauth.json
# GEMINI_CLI_OAUTH_CREDENTIALS_1=/path/to/gemini_oauth_1.json
# QWEN_CODE_OAUTH_CREDENTIALS=/path/to/qwen_oauth.json
# ANTIGRAVITY_OAUTH_CREDENTIALS=/path/to/antigravity_oauth.json
# IFLOW_OAUTH_CREDENTIALS=/path/to/iflow_oauth.json

# Rotator Tuning
ROTATOR_MAX_RETRIES=2
ROTATOR_GLOBAL_TIMEOUT=120
ROTATOR_ROTATION_TOLERANCE=2.0
# 0.0 = deterministic (least-used first)
# 2.0 = weighted random (recommended, harder to fingerprint)
# 5.0+ = high randomness

ROTATOR_USAGE_FILE_PATH=key_usage.json
ROTATOR_ENABLE_REQUEST_LOGGING=false
ROTATOR_CONFIGURE_LOGGING=true

# Model Filtering (JSON format)
# Blacklist models by pattern
# ROTATOR_IGNORE_MODELS={"openai": ["*-preview"], "gemini": ["gemini-1.0-*"]}
# Whitelist overrides blacklist
# ROTATOR_WHITELIST_MODELS={"openai": ["gpt-4o", "gpt-4-turbo"]}

# Per-provider concurrent request limits
# ROTATOR_MAX_CONCURRENT_PER_KEY={"openai": 5, "gemini": 3, "anthropic": 2}

# --- Web Search (Optional) ---
EXA_API_KEY=your_exa_api_key

# --- General Settings ---
DEFAULT_TIMEZONE=Asia/Shanghai
LOG_LEVEL=INFO

# =============================================================================
# Coding Agent Configuration
# Ported from badlogic/pi-mono mom package
# =============================================================================

# Feature Toggles (set to "false" to disable)
ENABLE_BASH_TOOL=true
ENABLE_FILE_TOOLS=true
ENABLE_SKILLS=true

# Workspace Configuration
WORKSPACE_DIR=/workspace
SKILLS_DIR=/workspace/skills

# Bash Tool Limits
BASH_TIMEOUT_DEFAULT=60
BASH_OUTPUT_MAX_LINES=500
BASH_OUTPUT_MAX_BYTES=51200

# File Tool Limits
FILE_READ_MAX_LINES=1000
